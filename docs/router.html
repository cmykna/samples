<!DOCTYPE html>  <html> <head>   <title>router.php</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="form.html">                 form.js               </a>                                           <a class="source" href="hmh.init.html">                 hmh.init.js               </a>                                           <a class="source" href="product.inc.html">                 product.inc.php               </a>                                           <a class="source" href="refactoring.html">                 refactoring.php               </a>                                           <a class="source" href="router.html">                 router.php               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               router.php             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="cp">&lt;?php</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>For the most part, hmhed URIs are mapped directly to the file system.
Homeworks has like 1000+ products in it, so that's obviously not
gonna work. Let's slap together some semblance of a routing system.</p>

<p><em>In hindsight, I should've just used friggin' codeigniter for this whole project</em></p>

<p>All this crap should be broken out into a url/routing class
and called from the index page. In the interest of getting a working
prototype out the door, we'll handle it ghetto for now.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>ADDITIONALLY! This is pretty /homeworks specific, which we'll have
to fix when there's some downtime.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>First, let's get some info from the environment and the current URI to
help us learn where we are and what we need to do.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">$currentDiscipline</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;SCRIPT_NAME&#39;</span><span class="p">]);</span>
<span class="nv">$currentSlug</span> <span class="o">=</span> <span class="nb">ltrim</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;QUERY_STRING&#39;</span><span class="p">],</span> <span class="s2">&quot;q=&quot;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Get a list of all the sections under our current discipline from the left nav menu object</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">$currentSections</span> <span class="o">=</span> <span class="nv">$leftNav</span><span class="o">-&gt;</span><span class="na">nodes</span><span class="p">[</span><span class="nv">$callPage</span><span class="p">];</span>
<span class="nv">$discipline</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;SCRIPT_NAME&#39;</span><span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Parse URIs to figure out which product categories or detail pages
we need to show.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">$detailView</span> <span class="o">=</span> <span class="nb">preg_match</span><span class="p">(</span><span class="s1">&#39;/^([^\/]+\/)([^\/]+\/)(\d{10}[\/]?|\d{13}[\/]?|details[\/]?)$/&#39;</span><span class="p">,</span> 
            <span class="nv">$currentSlug</span><span class="p">,</span> <span class="nv">$detailMatch</span><span class="p">);</span>
<span class="nv">$gradeView</span> <span class="o">=</span> <span class="nb">preg_match</span><span class="p">(</span><span class="s1">&#39;/^([^\/]+[\/]?)$/&#39;</span><span class="p">,</span> <span class="nv">$currentSlug</span><span class="p">,</span> <span class="nv">$gradeMatch</span><span class="p">);</span>
<span class="nv">$sectionView</span> <span class="o">=</span> <span class="nb">preg_match</span><span class="p">(</span><span class="s1">&#39;/^([^\/]+\/)([^\/]+[\/]?)$/&#39;</span><span class="p">,</span> <span class="nv">$currentSlug</span><span class="p">,</span> 
            <span class="nv">$sectionMatch</span><span class="p">);</span>
<span class="nv">$disciplineView</span> <span class="o">=</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;QUERY_STRING&#39;</span><span class="p">]);</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>For requests that don't validate.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">function</span> <span class="nf">respondWith404</span><span class="p">()</span>
<span class="p">{</span>
  <span class="nx">header</span><span class="p">(</span><span class="s2">&quot;HTTP/1.1 404 Not Found&quot;</span><span class="p">);</span>
  <span class="nb">ob_flush</span><span class="p">();</span>
  <span class="nv">$content</span> <span class="o">=</span> <span class="k">FALSE</span><span class="p">;</span>
  <span class="k">return</span> <span class="nv">$content</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Once we start buffering, we run through a bunch of logic that more or less
mixes the responsibilities of a URI router and a controller. Definately a good
candidate for refactoring.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">ob_start</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <h3>Discipline views</h3>

<p>URI: <code>//math.php</code>
Show the discipline index if there's no query string:</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="nv">$disciplineView</span><span class="p">)</span> 
<span class="p">{</span>
  <span class="nv">$page</span><span class="o">-&gt;</span><span class="na">pageTitle</span> <span class="o">=</span> <span class="nv">$currentSections</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;item&#39;</span><span class="p">];</span>
  <span class="k">include_once</span> <span class="s2">&quot;views/discipline/</span><span class="si">{</span><span class="nv">$callPage</span><span class="si">}</span><span class="s2">-index.php&quot;</span><span class="p">;</span>
  <span class="nv">$content</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">();</span>
<span class="p">}</span> </pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <h3>Grade-level views</h3>

<p>URI: <code>//reading-literature.php?q=reading-library-collections</code> [1]
URI: <code>//reading-literature.php?q=9-12</code>                   [2]</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Show multi-grade-level views for specific product lines[1], OR
show grade-level views for a single discipline[2].</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">elseif</span> <span class="p">(</span><span class="nv">$gradeView</span><span class="p">)</span> 
<span class="p">{</span>
  <span class="nv">$contentFile</span> <span class="o">=</span> <span class="s2">&quot;views/</span><span class="si">{</span><span class="nv">$currentSlug</span><span class="si">}</span><span class="s2">.php&quot;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">file_exists</span><span class="p">(</span><span class="nv">$contentFile</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">include_once</span><span class="p">(</span><span class="nv">$contentFile</span><span class="p">);</span>
    <span class="nv">$content</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">include_once</span> <span class="s2">&quot;localIncludes/oops.php&quot;</span><span class="p">;</span>
    <span class="nv">$content</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <h3>Product detail view</h3>

<p>URI: <code>//math.php?q=k-2/just-a-minute-math/9780739879405</code></p>

<p>Validation: 10 OR 13-digit number AND exists in <code>hw_products['isbn']</code>.
Show a detail view for a single product.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">elseif</span> <span class="p">(</span><span class="nv">$detailView</span><span class="p">)</span> 
<span class="p">{</span>

  <span class="nv">$isbn</span> <span class="o">=</span> <span class="nv">$detailMatch</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
  <span class="nv">$slug</span> <span class="o">=</span> <span class="nv">$detailMatch</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="nb">rtrim</span><span class="p">(</span><span class="nv">$detailMatch</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;/&quot;</span><span class="p">);</span>

  <span class="nv">$getProduct</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ProductDetail</span><span class="p">(</span><span class="nv">$settings</span><span class="o">-&gt;</span><span class="na">db</span><span class="p">,</span> <span class="nv">$isbn</span><span class="p">,</span> <span class="nv">$slug</span><span class="p">);</span>
  <span class="nv">$theProduct</span> <span class="o">=</span> <span class="nv">$getProduct</span><span class="o">-&gt;</span><span class="na">details</span><span class="p">();</span>

  <span class="k">if</span> <span class="p">(</span><span class="nv">$theProduct</span><span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>For a very small number of views, we want to do 
special-case stuff.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">switch</span> <span class="p">(</span><span class="nv">$detailMatch</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="p">{</span>
      <span class="k">case</span> <span class="s1">&#39;carmen-sandiego-on-wii/&#39;</span><span class="o">:</span>
        <span class="nv">$hideOptions</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="nv">$hidePurchaseButton</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="nv">$headerOverride</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="s1">&#39;hmh-fuse/&#39;</span><span class="o">:</span>
        <span class="nv">$appStoreButton</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
      <span class="k">case</span> <span class="s1">&#39;math-on-the-spot/&#39;</span><span class="o">:</span>
        <span class="nv">$appStoreButton</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      
      <span class="k">default</span><span class="o">:</span>

        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nv">$page</span><span class="o">-&gt;</span><span class="na">pageTitle</span> <span class="o">=</span> <span class="nv">$theProduct</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
    <span class="k">include_once</span> <span class="s2">&quot;views/detailview.php&quot;</span><span class="p">;</span>
    <span class="nv">$content</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">respondWith404</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <h3>Section landing page</h3>

<p>URI: <code>//science.php?q=3-6/core-skills-science</code></p>

<p>Validation: matches an entry in site-wide list of defined slugs.
Show a multi-product listing for a single grade range in a discipline.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">elseif</span> <span class="p">(</span><span class="nv">$sectionView</span><span class="p">)</span> 
<span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>If there are only two parts to the route, and
it wasn't caught above, display the listing
that matches the slug.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="k">if</span> <span class="p">(</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$sectionMatch</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nv">$leftNav</span><span class="o">-&gt;</span><span class="na">slugs</span><span class="p">))</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>More overrides for special-snowflake sections.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">switch</span> <span class="p">(</span><span class="nv">$sectionMatch</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="p">{</span>
      <span class="k">case</span> <span class="s1">&#39;free-help-at-home-for-math-expressions&#39;</span><span class="o">:</span>
        <span class="nv">$hidePriceLine</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="nv">$pdfLinks</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="s1">&#39;free-help-at-home-for-go-math&#39;</span><span class="o">:</span>
        <span class="nv">$hidePriceLine</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="nv">$pdfLinks</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="s1">&#39;carmen-sandiego-on-wii&#39;</span><span class="o">:</span>
        <span class="nv">$hidePriceLine</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="s1">&#39;pair-it-turn-and-learn&#39;</span><span class="o">:</span>
        <span class="nv">$hideGradeLine</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="nv">$titleOverride</span> <span class="o">=</span> <span class="s2">&quot;Pair-It: Turn and Learn, Grades K–3&quot;</span><span class="p">;</span>
        <span class="nv">$queryOverride</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NameLookup</span><span class="p">(</span><span class="s2">&quot;%pair-it%&quot;</span><span class="p">,</span> 
                        <span class="s2">&quot;slug&quot;</span><span class="p">,</span> <span class="nv">$settings</span><span class="o">-&gt;</span><span class="na">db</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="s1">&#39;timeline-graphic-novels&#39;</span><span class="o">:</span>
        <span class="nv">$titleOverride</span> <span class="o">=</span> <span class="s2">&quot;TIMELINE Graphic Novels, Interest Level Grades 6–12&quot;</span><span class="p">;</span>
        <span class="nv">$hideGradeLine</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="s1">&#39;reading-for-middle-school&#39;</span><span class="o">:</span>
        <span class="nv">$titleOverride</span> <span class="o">=</span> <span class="s2">&quot;Reading For Middle School&quot;</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Even more override handling for special cases.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="nv">$queryOverride</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$products</span> <span class="o">=</span> <span class="nv">$queryOverride</span><span class="o">-&gt;</span><span class="na">getDetails</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nv">$productList</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ProductList</span><span class="p">(</span><span class="nv">$currentDiscipline</span><span class="p">,</span> <span class="nv">$currentSlug</span><span class="p">,</span> 
                           <span class="nv">$settings</span><span class="o">-&gt;</span><span class="na">db</span><span class="p">,</span> <span class="nv">$callPage</span><span class="p">);</span>
      <span class="nv">$products</span> <span class="o">=</span> <span class="nv">$productList</span><span class="o">-&gt;</span><span class="na">display</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nv">$titleOverride</span><span class="p">)</span> <span class="p">{</span> 
      <span class="nv">$page</span><span class="o">-&gt;</span><span class="na">pageTitle</span> <span class="o">=</span> <span class="nv">$titleOverride</span><span class="p">;</span> 
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nv">$page</span><span class="o">-&gt;</span><span class="na">pageTitle</span> <span class="o">=</span> <span class="nv">$products</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;header&#39;</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">include_once</span> <span class="s2">&quot;views/sectionview.php&quot;</span><span class="p">;</span>
    <span class="nv">$content</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">respondWith404</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>We've figured out context and collected data, let's render a response!</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">include_once</span> <span class="nx">__TEMPLATES__</span><span class="o">.</span><span class="s2">&quot;/header.tpl.php&quot;</span><span class="p">;</span>
<span class="k">echo</span> <span class="s1">&#39;&lt;div class=&quot;buffer&quot;&gt;&#39;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$content</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$content</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">include_once</span> <span class="s2">&quot;localIncludes/oops.php&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">echo</span> <span class="s1">&#39;&lt;/div&gt;&lt;hr/&gt;&#39;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Any unique trademark lines we need to render?</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$page</span><span class="o">-&gt;</span><span class="na">pageTitle</span><span class="p">,</span> <span class="s2">&quot;Advanced Placement*&quot;</span><span class="p">)</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$page</span><span class="o">-&gt;</span><span class="na">trademark</span> <span class="o">=</span> <span class="nv">$_trademarks</span><span class="p">[</span><span class="s1">&#39;advanced-placement&#39;</span><span class="p">];</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$page</span><span class="o">-&gt;</span><span class="na">pageTitle</span><span class="p">,</span> <span class="s2">&quot;AP*&quot;</span><span class="p">)</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$page</span><span class="o">-&gt;</span><span class="na">trademark</span> <span class="o">=</span> <span class="nv">$_trademarks</span><span class="p">[</span><span class="s1">&#39;advanced-placement&#39;</span><span class="p">];</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$page</span><span class="o">-&gt;</span><span class="na">pageTitle</span><span class="p">,</span> <span class="s2">&quot;HMH Fuse&quot;</span><span class="p">)</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$page</span><span class="o">-&gt;</span><span class="na">trademark</span> <span class="o">=</span> <span class="nv">$_trademarks</span><span class="p">[</span><span class="s1">&#39;hmh-fuse&#39;</span><span class="p">];</span>
<span class="p">}</span>
<span class="k">include_once</span> <span class="nx">__TEMPLATES__</span><span class="o">.</span><span class="s2">&quot;/footer.tpl.php&quot;</span><span class="p">;</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 