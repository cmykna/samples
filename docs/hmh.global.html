<!DOCTYPE html>  <html> <head>   <title>hmh.global.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="form.html">                 form.js               </a>                                           <a class="source" href="hmh.global.html">                 hmh.global.js               </a>                                           <a class="source" href="hmh.init.html">                 hmh.init.js               </a>                                           <a class="source" href="product.inc.html">                 product.inc.php               </a>                                           <a class="source" href="refactoring.html">                 refactoring.php               </a>                                           <a class="source" href="router.html">                 router.php               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               hmh.global.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Make a big-ol' HMH object that we can attach to window and store all our functionality in.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">$</span><span class="p">,</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">HMH</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">HMH</span> <span class="o">||</span> <span class="p">{};</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>This lets us add other child objects to an arbitrary depth
to help organize everything, while making sure we don't
clobber anything that already exists. See Stefanov's 'Javascript Patterns'
for details.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">HMH</span><span class="p">.</span><span class="nx">namespace</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">namespace_string</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">parts</span> <span class="o">=</span> <span class="nx">namespace_string</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
      <span class="p">,</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nx">HMH</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">len</span><span class="p">;</span>

    <span class="nx">parts</span> <span class="o">=</span> <span class="p">(</span><span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">===</span> <span class="s1">&#39;HMH&#39;</span><span class="p">)</span> <span class="o">?</span> <span class="nx">parts</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">:</span> <span class="nx">parts</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">member</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
      <span class="nx">obj</span><span class="p">[</span><span class="nx">member</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">member</span><span class="p">]</span> <span class="o">||</span> <span class="p">{};</span>
      <span class="nx">obj</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">member</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">obj</span><span class="p">;</span>
  <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Declare the HMH global's members.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">HMH</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;HMH.init&#39;</span><span class="p">);</span>
  <span class="nx">HMH</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;HMH.utils&#39;</span><span class="p">);</span>
  <span class="nx">HMH</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;HMH.form&#39;</span><span class="p">);</span>
  <span class="nx">HMH</span><span class="p">.</span><span class="nx">namespace</span><span class="p">(</span><span class="s1">&#39;HMH.config&#39;</span><span class="p">);</span>

  <span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">HMH</span> <span class="o">=</span> <span class="nx">HMH</span><span class="p">;</span>

<span class="p">})(</span><span class="nx">jQuery</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 